- name: Creates an additional Ec2 instance, syncs inventory and Adds to AAP inventory
  hosts: localhost
  connection: local
  become: true

  tasks:

    - name: Include the vpc role
      ansible.builtin.include_role:
        name: scale_up

    - name: Dump out the instance id
      ansible.builtin.debug:
        var: additional_webserver_instance_id

    - name: Include the inventory role
      ansible.builtin.include_role:
        name: inventory
        apply:
          tags:
            - create
